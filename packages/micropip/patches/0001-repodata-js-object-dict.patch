diff --git a/micropip/_compat/_compat_in_pyodide.py b/micropip/_compat/_compat_in_pyodide.py
index be839de..3f27134 100644
--- a/micropip/_compat/_compat_in_pyodide.py
+++ b/micropip/_compat/_compat_in_pyodide.py
@@ -1,3 +1,4 @@
+from collections.abc import Mapping
 from pathlib import Path
 from typing import TYPE_CHECKING, Any
 from urllib.parse import urlparse
@@ -11,6 +12,23 @@ from pyodide.http import HttpStatusError, pyfetch
 
 from .compatibility_layer import CompatibilityLayer
 
+
+class JsObjectDict(Mapping):
+    def __init__(self, obj):
+        self.obj = obj
+
+    def __getitem__(self, key):
+        return getattr(self.obj, key).to_py()
+
+    def __iter__(self):
+        import js
+        return js.Object.keys(self.object).to_py()
+
+    def __len__(self):
+        import js
+        return js.Object.keys(self.object).length
+
+
 try:
     import pyodide_js
     from pyodide_js import loadedPackages, loadPackage
@@ -19,8 +37,8 @@ try:
         loadDynlibsFromPackage,
     )
 
-    REPODATA_PACKAGES = pyodide_js._api.repodata_packages.to_py()
-    REPODATA_INFO = pyodide_js._api.repodata_info.to_py()
+    REPODATA_PACKAGES = JsObjectDict(pyodide_js._api.repodata_packages)
+    REPODATA_INFO = JsObjectDict(pyodide_js._api.repodata_info)
 except ImportError:
     if IN_BROWSER:
         raise
